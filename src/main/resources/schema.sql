
CREATE TABLE IF NOT EXISTS genre (
id INTEGER GENERATED BY DEFAULT AS IDENTITY  PRIMARY KEY,
name VARCHAR
);

CREATE TABLE IF NOT EXISTS mpa  (
id INTEGER GENERATED BY DEFAULT AS IDENTITY  PRIMARY KEY,
name VARCHAR,
description VARCHAR
);

CREATE TABLE IF NOT EXISTS films (
id INTEGER GENERATED BY DEFAULT AS IDENTITY  PRIMARY KEY,
name VARCHAR,
description VARCHAR,
genre_id INTEGER REFERENCES genre(id),
mpa_id INTEGER REFERENCES rating(id),
release_date DATE,
duration INTEGER
);

CREATE TABLE IF NOT EXISTS users (
id INTEGER GENERATED BY DEFAULT AS IDENTITY  PRIMARY KEY,
name VARCHAR,
login VARCHAR,
email VARCHAR,
birthdate DATE
);

CREATE TABLE IF NOT EXISTS friendship_type (
id INTEGER GENERATED BY DEFAULT AS IDENTITY  PRIMARY KEY,
name VARCHAR
);

CREATE TABLE IF NOT EXISTS friends (
id INTEGER GENERATED BY DEFAULT AS IDENTITY  PRIMARY KEY,
user1Id INTEGER REFERENCES users(id),
user2Id INTEGER REFERENCES users(id),
friendship_type INTEGER REFERENCES friendship_type(id)
);
